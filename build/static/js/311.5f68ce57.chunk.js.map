{"version":3,"sources":["../node_modules/reactstrap/es/Spinner.js","views/apps/freshlist/accounts/CreateHeirarchy.js"],"names":["_excluded","propTypes","tag","tagPropType","type","PropTypes","string","size","color","className","cssModule","object","children","Spinner","props","Tag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","React","createElement","_extends","role","defaultProps","TreeNode","node","useState","isExpanded","setIsExpanded","style","marginLeft","depth","fontSize","onClick","roles","departmentName","roleName","rolePosition","map","child","key","id","Tree","data","CreateHeriarchy","DepartmentWithRole","setDepartmentWithRole","Loading","setLoading","useEffect","userData","JSON","parse","localStorage","getItem","_Get","Deptartment_with_Role","database","then","res","console","log","Department","catch","err","height","window","innerHeight","display","justifyContent","marginTop","width","lg","render","history","cursor","goBack","ele","i"],"mappings":"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","file":"static/js/311.5f68ce57.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"type\", \"size\", \"color\", \"children\", \"tag\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  type: PropTypes.string,\n  size: PropTypes.string,\n  color: PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  children: PropTypes.string\n};\nvar defaultProps = {\n  tag: 'div',\n  type: 'border',\n  children: 'Loading...'\n};\n\nvar Spinner = function Spinner(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      type = props.type,\n      size = props.size,\n      color = props.color,\n      children = props.children,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var classes = mapToCssModules(classNames(className, size ? \"spinner-\" + type + \"-\" + size : false, \"spinner-\" + type, color ? \"text-\" + color : false), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({\n    role: \"status\"\n  }, attributes, {\n    className: classes\n  }), children && /*#__PURE__*/React.createElement(\"span\", {\n    className: mapToCssModules('sr-only', cssModule)\n  }, children));\n};\n\nSpinner.propTypes = propTypes;\nSpinner.defaultProps = defaultProps;\nexport default Spinner;","import React, { useEffect, useState } from \"react\";\r\nimport \"./Tree.css\";\r\nimport { Button, Card, Col, Row, Spinner } from \"reactstrap\";\r\nimport { Route } from \"react-router-dom\";\r\nimport { Deptartment_with_Role } from \"../../../../ApiEndPoint/Api\";\r\nimport { _Get } from \"../../../../ApiEndPoint/ApiCalling\";\r\n\r\nconst TreeNode = ({ node }) => {\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n\r\n  const handleToggle = () => {\r\n    setIsExpanded(!isExpanded);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-1 mb-2 mainheader\">\r\n      <div className=\"d-flex\" style={{ marginLeft: `${node.depth * 20}px` }}>\r\n        <span style={{ fontSize: \"20px\" }} onClick={handleToggle}>\r\n          {node.roles && (isExpanded ? \"[-]\" : \"[+]\")}\r\n        </span>\r\n        <h5 style={{ fontSize: \"20px\" }} className=\"mx-2\">\r\n          {(node?.departmentName?.departmentName &&\r\n            node?.departmentName?.departmentName) ||\r\n            (node?.roleName && (\r\n              <>\r\n                {node?.roleName}(Position-{node?.rolePosition})\r\n              </>\r\n            ))}\r\n        </h5>\r\n      </div>\r\n      {isExpanded &&\r\n        node.roles &&\r\n        node.roles.map((child) => <TreeNode key={child.id} node={child} />)}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Tree = ({ data }) => {\r\n  return <TreeNode node={data} />;\r\n};\r\n\r\n\r\n\r\nfunction CreateHeriarchy() {\r\n  const [DepartmentWithRole, setDepartmentWithRole] = useState([]);\r\n  const [Loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    setLoading(true);\r\n    _Get(Deptartment_with_Role, userData?.database)\r\n      .then((res) => {\r\n        console.log(res?.Department);\r\n        setLoading(false);\r\n\r\n        setDepartmentWithRole(res?.Department);\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <Card style={{ height: window.innerHeight }}>\r\n      <div>\r\n        {Loading && Loading ? (\r\n          <>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                marginTop: \"20rem\",\r\n              }}>\r\n              <Spinner\r\n                style={{\r\n                  height: \"4rem\",\r\n                  width: \"4rem\",\r\n                }}\r\n                color=\"primary\">\r\n                Loading...\r\n              </Spinner>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Row>\r\n              <Col></Col>\r\n              {/* <Col className=\"m-2\" lg=\"3\" sm=\"6\" md=\"3\">\r\n            <Button\r\n              style={{ cursor: \"pointer\" }}\r\n              className=\"float-right mr-1\"\r\n              color=\"primary\"\r\n             \r\n            >\r\n              Connect with SuperAdmin\r\n            </Button>\r\n          </Col> */}\r\n              <Col className=\"m-2\" lg=\"2\">\r\n                <Route\r\n                  render={({ history }) => (\r\n                    <Button\r\n                      style={{ cursor: \"pointer\" }}\r\n                      className=\"float-right mr-1\"\r\n                      color=\"primary\"\r\n                      onClick={() => history.goBack()}>\r\n                      {\" \"}\r\n                      Back\r\n                      {/* <FaPlus size={15} /> Create User */}\r\n                    </Button>\r\n                  )}\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <div className=\"d-flex justify-content-center\">\r\n                  <h1>Your Organization Structure</h1>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n            {DepartmentWithRole && DepartmentWithRole ? (\r\n              DepartmentWithRole?.map((ele, i) => <Tree key={i} data={ele} />)\r\n            ) : (\r\n              <>\r\n                <div style={{ color: \"red\" }}>\r\n                  <h3>No Organization Structure found</h3>\r\n                </div>\r\n              </>\r\n            )}\r\n          </>\r\n        )}\r\n\r\n        {/* {Trees && Trees?.map((ele, i) => <Tree key={i} data={ele} />)} */}\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default CreateHeriarchy;\r\n"],"sourceRoot":""}