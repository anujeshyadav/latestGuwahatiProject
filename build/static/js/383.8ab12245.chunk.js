(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[383],{1182:function(e,t,a){"use strict";var l=a(27),n=a(1),c=a.n(n),o=a(1241),r=a.n(o),i=a(931),u=a(13);t.a=function(e){var t=e.rootElementId,a=e.downloadFileName,o=Object(n.useState)(!1),m=Object(l.a)(o,2),s=m[0],d=m[1];return c.a.createElement("div",{color:"primary",className:"downloadledger",onClick:function(){d(!0);var e=document.getElementById(t),l=document.createElement("canvas");l.width=e.scrollWidth,l.height=e.scrollHeight+window.scrollY,r()(e,{canvas:l,scale:1}).then((function(e){var t=e.toDataURL("image/png"),l=new i.jsPDF,n=l.internal.pageSize.getWidth(),c=e.height*n/e.width;l.addImage(t,"JPEG",0,0,n,c),l.save("".concat(a,".pdf")),d(!1)}))}},s&&s?c.a.createElement(c.a.Fragment,null,"Downloading."):c.a.createElement(c.a.Fragment,null,c.a.createElement(u.o,{className:"mt-2",title:"DownLoad",size:35,color:"#00c0ef",style:{cursor:"pointer"}})))}},3251:function(e,t,a){"use strict";a.r(t);var l=a(25),n=a(61),c=a(9),o=a(27),r=a(1),i=a.n(r),u=(a(234),a(912)),m=a(904),s=a(905),d=a(245),v=a(916),p=a(906),E=a(907),b=a(908),O=a(894),g=a(923),f=a(902),j=a(903),h=a(910),y=a(136),N=a.n(y),S=(a(233),a(44)),P=a(85),T=a(5),_=a(73),W=a.n(_),x=(a(1182),[]),C=[];t.default=function(e){var t,a=Object(r.useState)({}),y=Object(o.a)(a,2),_=(y[0],y[1],Object(r.useState)({Other_Expenses:100,GSTApplied:18,Other_charges:50,discount:10})),Q=Object(o.a)(_,2),k=Q[0],q=Q[1],A=Object(r.useState)(""),R=Object(o.a)(A,2),M=(R[0],R[1]),U=Object(r.useState)(""),I=Object(o.a)(U,2),D=(I[0],I[1],Object(r.useState)("")),G=Object(o.a)(D,2),w=(G[0],G[1],Object(r.useState)("")),F=Object(o.a)(w,2),L=(F[0],F[1],Object(r.useState)(!1)),V=Object(o.a)(L,2),J=(V[0],V[1],Object(r.useState)("")),K=Object(o.a)(J,2),z=(K[0],K[1],Object(r.useState)([])),B=Object(o.a)(z,2),H=B[0],Y=B[1],X=Object(r.useState)([]),Z=Object(o.a)(X,2),$=Z[0],ee=Z[1],te=Object(r.useState)([]),ae=Object(o.a)(te,2),le=(ae[0],ae[1],Object(r.useState)([])),ne=Object(o.a)(le,2),ce=(ne[0],ne[1],Object(r.useState)("")),oe=Object(o.a)(ce,2),re=(oe[0],oe[1],Object(r.useState)({})),ie=Object(o.a)(re,2),ue=ie[0],me=ie[1],se=Object(r.useState)([]),de=Object(o.a)(se,2),ve=(de[0],de[1],Object(r.useState)("")),pe=Object(o.a)(ve,2),Ee=(pe[0],pe[1],Object(r.useState)(0)),be=Object(o.a)(Ee,2),Oe=be[0],ge=be[1],fe=Object(r.useState)([]),je=Object(o.a)(fe,2),he=(je[0],je[1]),ye=Object(r.useState)({}),Ne=Object(o.a)(ye,2),Se=(Ne[0],Ne[1]),Pe=Object(r.useState)(!1),Te=Object(o.a)(Pe,2),_e=(Te[0],Te[1],Object(r.useState)("")),We=Object(o.a)(_e,2),xe=(We[0],We[1],Object(r.useState)(!1)),Ce=Object(o.a)(xe,2),Qe=(Ce[0],Ce[1],Object(r.useState)([])),ke=Object(o.a)(Qe,2),qe=(ke[0],ke[1],Object(r.useState)(!1)),Ae=Object(o.a)(qe,2),Re=Ae[0],Me=Ae[1],Ue=function(){return Me(!Re)},Ie=function(e){var t=e.target,a=t.name,l=t.value;q(Object(c.a)(Object(c.a)({},k),{},Object(n.a)({},a,l)))},De=Object(r.useState)([{product:"",productId:"",selecetedUnit:"",WasteUnit:"",AvailaleQty:null,Waste_Qty:null,WastePrice:"",availableQty:"",transferQty:1,RequiredQty:"",price:"",totalprice:"",Size:"",unitType:"",stockTrxDate:"",targetEndDate:"",discount:"",Shipping:"",tax:"",grandTotal:""}]),Ge=Object(o.a)(De,2),we=Ge[0],Fe=Ge[1],Le=function(e,t){M(t);var a=e.target,n=a.name,c=a.value,o=Object(l.a)(we);o[t][n]=c,Fe(o)},Ve=function(e,t){M(t);var a=e.target,n=a.name,c=a.value,o=Object(l.a)(we);o[t][n]=Number(c);var r=0;o.length>0&&(r=(null===o||void 0===o?void 0:o.map((function(e){return x[t]=e.price*e.RequiredQty,o[t].totalprice=e.price*e.RequiredQty,(null===e||void 0===e?void 0:e.price)*(null===e||void 0===e?void 0:e.RequiredQty)}))).reduce((function(e,t){return e+t})),console.log("GrandTotal",r));Fe(o),ge(r.toFixed(2))};console.log(k);var Je=function(e,t,a){C.splice(a,1);var l=(null===we||void 0===we?void 0:we.map((function(e,l){var n,c;console.log((null===e||void 0===e?void 0:e.qty)*(null===(n=t[l])||void 0===n?void 0:n.Product_MRP));var o=(null===e||void 0===e?void 0:e.qty)*(null===(c=C[l])||void 0===c?void 0:c.Product_MRP);return x[a]=o,o}))).reduce((function(e,t){return e+t}));ge(l)};Object(r.useEffect)((function(){var e,t;Object(S.zc)(null===(e=userData)||void 0===e?void 0:e._id,null===(t=userData)||void 0===t?void 0:t.database).then((function(e){console.log(null===e||void 0===e?void 0:e.Unit),he(null===e||void 0===e?void 0:e.Unit)})).catch((function(e){console.log(e)}));var a=JSON.parse(localStorage.getItem("userData"));Object(S.Nb)(null===a||void 0===a?void 0:a._id,null===a||void 0===a?void 0:a.database).then((function(e){var t,a;console.log(e.Product);var l=null===e||void 0===e||null===(t=e.Product)||void 0===t?void 0:t.filter((function(e){return"Item"==(null===e||void 0===e?void 0:e.addProductType)})),n=null===e||void 0===e||null===(a=e.Product)||void 0===a?void 0:a.filter((function(e){return"Product"==(null===e||void 0===e?void 0:e.addProductType)}));(null===n||void 0===n?void 0:n.length)&&Y(n),(null===l||void 0===l?void 0:l.length)&&ee(l)})).catch((function(e){console.log(e)}))}),[]),Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));console.log(e),Se(e)}),[]);var Ke=function(){var e;Fe([].concat(Object(l.a)(we),[(e={product:"",productId:"",selecetedUnit:"",AvailaleQty:null},Object(n.a)(e,"AvailaleQty",null),Object(n.a)(e,"Waste_Qty",null),Object(n.a)(e,"WastePrice",""),Object(n.a)(e,"availableQty",""),Object(n.a)(e,"transferQty",1),Object(n.a)(e,"RequiredQty",""),Object(n.a)(e,"price",""),Object(n.a)(e,"totalprice",""),Object(n.a)(e,"Size",""),Object(n.a)(e,"unitType",""),Object(n.a)(e,"stockTrxDate",""),Object(n.a)(e,"targetEndDate",""),Object(n.a)(e,"discount",""),Object(n.a)(e,"Shipping",""),Object(n.a)(e,"tax",""),Object(n.a)(e,"grandTotal",""),e)]))},ze=function(e){var t=Object(l.a)(we);t.splice(e,1),x.splice(e,1);var a=x.reduce((function(e,t){return e+t}));ge(a),Fe(t)};return i.a.createElement("div",null,i.a.createElement(u.a,null,i.a.createElement(m.a,{className:"m-2"},i.a.createElement(s.a,{lg:"8",md:"8",sm:"8",className:"mb-2 mt-1"},i.a.createElement("div",null,i.a.createElement("h1",{className:""},"Start Production Process"))),i.a.createElement(s.a,null,i.a.createElement("div",{className:"float-right"},i.a.createElement(P.b,{render:function(e){var t=e.history;return i.a.createElement(d.a,{style:{cursor:"pointer"},className:"float-right mr-1",color:"primary",onClick:function(){return t.goBack()}}," ","Back")}})))),i.a.createElement(m.a,null),i.a.createElement(v.a,null,i.a.createElement(p.a,{className:"m-1",onSubmit:function(e){Ue(),e.preventDefault()}},i.a.createElement(m.a,null,i.a.createElement(s.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},i.a.createElement("div",{className:""},i.a.createElement(E.a,null,"Choose Production Product "),i.a.createElement(N.a,{required:!0,selectionLimit:1,isObject:"false",options:H,onSelect:function(e,t,a){me(e[0])},onRemove:function(e,t,a){},displayValue:"Product_Title"})))),we&&(null===we||void 0===we?void 0:we.map((function(e,t){return i.a.createElement(m.a,{className:"",key:t},i.a.createElement(s.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},i.a.createElement("div",{className:""},i.a.createElement(E.a,null,"Choose item *"),i.a.createElement(N.a,{required:!0,selectionLimit:1,isObject:"false",options:$,onSelect:function(e,a){return function(e,t,a){C.push(t),Fe((function(e){var n=Object(l.a)(e),o=Object(c.a)({},n[a]);return o.price=null===t||void 0===t?void 0:t.Product_MRP,o.productId=null===t||void 0===t?void 0:t._id,(null===t||void 0===t?void 0:t.unitType)&&(o.unitType=null===t||void 0===t?void 0:t.unitType.split(" ")[1]),n[a]=o,n}))}(0,a,t)},onRemove:function(e,a){Je(0,a,t)},displayValue:"Product_Title"}))),i.a.createElement(s.a,{className:"mb-1",lg:"1",md:"1",sm:"12"},i.a.createElement("div",{className:""},i.a.createElement("label",{for:"unit"},"Select Unit"),i.a.createElement("select",{required:!0,className:"form-control",name:"selecetedUnit",placeholder:"selecetedUnit",value:null===e||void 0===e?void 0:e.selecetedUnit,onChange:function(e){return Le(e,t)},id:"unit"},i.a.createElement("option",{value:""},"--select Unit--"),i.a.createElement("option",{value:"kg"},"Kilogram (kg)"),i.a.createElement("option",{value:"Pcs"},"Pieces (Pcs)"),i.a.createElement("option",{value:"g"},"Gram (g)"),i.a.createElement("option",{value:"tonne"},"Metric Ton (tonne)"),i.a.createElement("option",{value:"m"},"Meter (m)"),i.a.createElement("option",{value:"cm"},"Centimeter (cm)"),i.a.createElement("option",{value:"mm"},"Millimeter (mm)"),i.a.createElement("option",{value:"in"},"Inch (in)"),i.a.createElement("option",{value:"ft"},"Foot (ft)"),i.a.createElement("option",{value:"m3"},"Cubic Meter (m\xb3)"),i.a.createElement("option",{value:"L"},"Liter (L)"),i.a.createElement("option",{value:"ml"},"Milliliter (ml)"),i.a.createElement("option",{value:"s"},"Second (s)"),i.a.createElement("option",{value:"min"},"Minute (min)"),i.a.createElement("option",{value:"hr"},"Hour (hr)"),i.a.createElement("option",{value:"\xb0C"},"Celsius (\xb0C)"),i.a.createElement("option",{value:"\xb0F"},"Fahrenheit (\xb0F)"),i.a.createElement("option",{value:"Pa"},"Pascal (Pa)"),i.a.createElement("option",{value:"bar"},"Bar (bar)"),i.a.createElement("option",{value:"m/s"},"Meters per Second (m/s)"),i.a.createElement("option",{value:"km/h"},"Kilometers per Hour (km/h)"),i.a.createElement("option",{value:"A"},"Ampere (A)"),i.a.createElement("option",{value:"V"},"Volt (V)"),i.a.createElement("option",{value:"W"},"Watt (W)"),i.a.createElement("option",{value:"kW"},"Kilowatt (kW)")))),i.a.createElement(s.a,{className:"mb-1",lg:"1",md:"1",sm:"12"},i.a.createElement("div",{className:""},i.a.createElement(E.a,null,"Price",(null===e||void 0===e?void 0:e.unitType)&&(null===e||void 0===e?void 0:e.unitType)),i.a.createElement(b.a,{type:"number",name:"price",readOnly:!0,"aria-readonly":!0,onChange:function(e){return Ve(e,t)},placeholder:"Price",value:e.price}))),i.a.createElement(s.a,{className:"mb-1",lg:"1",md:"1",sm:"12"},i.a.createElement("div",{className:""},i.a.createElement(E.a,null,"Req_Qty"),i.a.createElement(b.a,{type:"number",min:0,step:"any",name:"RequiredQty",placeholder:"Req_Qty",value:null===e||void 0===e?void 0:e.RequiredQty,onChange:function(e){return Ve(e,t)}}))),i.a.createElement(s.a,{className:"mb-1",lg:"1",md:"1",sm:"12"},i.a.createElement("div",{className:""},i.a.createElement(E.a,null,"Total Price"),i.a.createElement(b.a,{type:"number",name:"totalprice",readOnly:!0,placeholder:"TtlPrice",value:(null===e||void 0===e?void 0:e.price)*(null===e||void 0===e?void 0:e.RequiredQty)}))),i.a.createElement(s.a,{className:"mb-1",lg:"1",md:"1",sm:"12"},i.a.createElement("div",{className:""},i.a.createElement("label",{for:"unit"},"Waste Unit"),i.a.createElement("select",{required:!0,className:"form-control",name:"WasteUnit",placeholder:"WasteUnit",value:null===e||void 0===e?void 0:e.WasteUnit,onChange:function(e){return Le(e,t)},id:"unit"},i.a.createElement("option",{value:""},"--select Unit--"),i.a.createElement("option",{value:"kg"},"Kilogram (kg)"),i.a.createElement("option",{value:"Pcs"},"Pieces (Pcs)"),i.a.createElement("option",{value:"g"},"Gram (g)"),i.a.createElement("option",{value:"tonne"},"Metric Ton (tonne)"),i.a.createElement("option",{value:"m"},"Meter (m)"),i.a.createElement("option",{value:"cm"},"Centimeter (cm)"),i.a.createElement("option",{value:"mm"},"Millimeter (mm)"),i.a.createElement("option",{value:"in"},"Inch (in)"),i.a.createElement("option",{value:"ft"},"Foot (ft)"),i.a.createElement("option",{value:"m3"},"Cubic Meter (m\xb3)"),i.a.createElement("option",{value:"L"},"Liter (L)"),i.a.createElement("option",{value:"ml"},"Milliliter (ml)"),i.a.createElement("option",{value:"s"},"Second (s)"),i.a.createElement("option",{value:"min"},"Minute (min)"),i.a.createElement("option",{value:"hr"},"Hour (hr)"),i.a.createElement("option",{value:"\xb0C"},"Celsius (\xb0C)"),i.a.createElement("option",{value:"\xb0F"},"Fahrenheit (\xb0F)"),i.a.createElement("option",{value:"Pa"},"Pascal (Pa)"),i.a.createElement("option",{value:"bar"},"Bar (bar)"),i.a.createElement("option",{value:"m/s"},"Meters per Second (m/s)"),i.a.createElement("option",{value:"km/h"},"Kilometers per Hour (km/h)"),i.a.createElement("option",{value:"A"},"Ampere (A)"),i.a.createElement("option",{value:"V"},"Volt (V)"),i.a.createElement("option",{value:"W"},"Watt (W)"),i.a.createElement("option",{value:"kW"},"Kilowatt (kW)")))),i.a.createElement(s.a,{className:"mb-1",lg:"1",md:"1",sm:"12"},i.a.createElement("div",{className:""},i.a.createElement(E.a,null,"Waste_Qty"),i.a.createElement(b.a,{type:"number",min:0,step:"any",name:"Waste_Qty",placeholder:"Waste_Qty",value:null===e||void 0===e?void 0:e.Waste_Qty,onChange:function(e){return Ve(e,t)}}))),i.a.createElement(s.a,{className:"mb-1",lg:"1",md:"1",sm:"12"},i.a.createElement("div",{className:""},i.a.createElement(E.a,null,"Total"),i.a.createElement(b.a,{type:"number",name:"WastePrice",readOnly:!0,placeholder:"WasteTotal",value:(null===e||void 0===e?void 0:e.price)*(null===e||void 0===e?void 0:e.Waste_Qty)}))),i.a.createElement(s.a,{className:"d-flex mt-1 abb",lg:"3",md:"3",sm:"12"},i.a.createElement("div",{className:"btnStyle"},t?i.a.createElement(d.a,{type:"button",color:"danger",className:"button remove ",onClick:function(){return ze(t)}},"- Remove"):null),i.a.createElement("div",{className:"btnStyle"},i.a.createElement(d.a,{className:"ml-1 mb-1",color:"primary",type:"button",onClick:function(){return Ke()}},"+ Add"))))}))),i.a.createElement(m.a,null),i.a.createElement(m.a,null,i.a.createElement(s.a,{className:"mb-1",lg:"12",md:"12",sm:"12"},i.a.createElement("div",{className:" d-flex justify-content-end"},i.a.createElement(E.a,{className:"pr-5"},"Grand Total :"," ",i.a.createElement("stron",null,Oe&&"NaN"==Oe?0:Oe," "))))),i.a.createElement(m.a,null,i.a.createElement(s.a,null,i.a.createElement("div",{className:"d-flex justify-content-center"},i.a.createElement(d.a.Ripple,{color:"primary",type:"submit",className:"mt-2"},"Submit"))))))),i.a.createElement(g.a,Object.assign({style:{maxWidth:"1050px"},isOpen:Re,toggle:Ue},e),i.a.createElement(f.a,{toggle:Ue},"Add Charges"),i.a.createElement(j.a,null,i.a.createElement(p.a,{className:"m-1",onSubmit:function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("userData")),a=null===we||void 0===we?void 0:we.map((function(e,t){return{productId:null===e||void 0===e?void 0:e.productId,unit:null===e||void 0===e?void 0:e.unitType,price:null===e||void 0===e?void 0:e.price,qty:null===e||void 0===e?void 0:e.RequiredQty,unitType:null===e||void 0===e?void 0:e.selecetedUnit,totalPrice:(null===e||void 0===e?void 0:e.price)*(null===e||void 0===e?void 0:e.RequiredQty)}})),l=null===we||void 0===we?void 0:we.map((function(e,t){return{productId:null===e||void 0===e?void 0:e.productId,unit:null===e||void 0===e?void 0:e.WasteUnit,price:null===e||void 0===e?void 0:e.price,qty:null===e||void 0===e?void 0:e.Waste_Qty,unitType:null===e||void 0===e?void 0:e.WasteUnit,totalPrice:(null===e||void 0===e?void 0:e.price)*(null===e||void 0===e?void 0:e.Waste_Qty)}})),n=Number(Oe)+Number(null===k||void 0===k?void 0:k.Other_Expenses)+Number(null===k||void 0===k?void 0:k.Other_charges)+Number(Oe)*(null===k||void 0===k?void 0:k.GSTApplied)/100,c={created_by:null===t||void 0===t?void 0:t._id,product_name:null===ue||void 0===ue?void 0:ue._id,productItems:a,wastageItems:l,miscellaneousExpennses:null===k||void 0===k?void 0:k.Other_Expenses,gstApplied:null===k||void 0===k?void 0:k.GSTApplied,otherCharges:null===k||void 0===k?void 0:k.Other_charges,grandTotal:n};Object(S.fd)(T.me,c).then((function(e){console.log(e),W()("Production Process is Created")})).catch((function(e){console.log(e)}))}},i.a.createElement(m.a,null,i.a.createElement(s.a,{className:"mb-1",lg:"3",md:"3",sm:"12"},i.a.createElement("div",{className:""},i.a.createElement(E.a,null,"Miscellaneous Expenses "),i.a.createElement("input",{className:"form-control",name:"Other_Expenses",value:null===k||void 0===k?void 0:k.Other_Expenses,onChange:Ie,type:"number"}))),i.a.createElement(s.a,{className:"mb-1",lg:"3",md:"3",sm:"12"},i.a.createElement("div",{className:""},i.a.createElement(E.a,null,"GST Applied "),i.a.createElement(O.a,{className:"form-control",name:"GSTApplied",value:null===k||void 0===k?void 0:k.GSTApplied,onChange:Ie,type:"select"},i.a.createElement("option",null,"--select--"),i.a.createElement("option",{value:18},"18"),i.a.createElement("option",{value:9},"9")))),i.a.createElement(s.a,{className:"mb-1",lg:"3",md:"3",sm:"12"},i.a.createElement("div",{className:""},i.a.createElement(E.a,null,"Other Charges "),i.a.createElement("input",{className:"form-control",name:"Other_charges",value:null===k||void 0===k?void 0:k.Other_charges,onChange:Ie,type:"number"})))),i.a.createElement(m.a,null,i.a.createElement(s.a,null,i.a.createElement("div",{className:"d-flex justify-content-end"},i.a.createElement("strong",null," SubTotal:")," ",Oe&&"NaN"==Oe?0:Oe," "),i.a.createElement("div",{className:"d-flex justify-content-end"},i.a.createElement("strong",null," Miscellaneous:"),null===k||void 0===k?void 0:k.Other_Expenses),i.a.createElement("div",{className:"d-flex justify-content-end"},i.a.createElement("strong",null," GST:")," ",(null===k||void 0===k?void 0:k.GSTApplied)*Oe/100),i.a.createElement("div",{className:"d-flex justify-content-end"},i.a.createElement("strong",null," other:"),null===k||void 0===k?void 0:k.Other_charges),i.a.createElement("div",{className:"d-flex justify-content-end"},i.a.createElement("strong",null," Discount: "),null===k||void 0===k?void 0:k.discount),i.a.createElement("div",{className:"d-flex justify-content-end"},i.a.createElement("strong",null," GrandTotal:"),null===(t=Number(Oe)+Number(null===k||void 0===k?void 0:k.Other_Expenses)+Number(null===k||void 0===k?void 0:k.Other_charges)+Number(Oe)*(null===k||void 0===k?void 0:k.GSTApplied)/100)||void 0===t?void 0:t.toFixed(2)))),i.a.createElement(m.a,null,i.a.createElement(s.a,null,i.a.createElement("div",{className:"d-flex justify-content-center"},i.a.createElement(d.a,{color:"primary",type:"submit"},"Submit")," "))))),i.a.createElement(h.a,null)))}}}]);
//# sourceMappingURL=383.8ab12245.chunk.js.map