(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[468],{3011:function(e,a,l){"use strict";l.r(a);var t=l(25),n=l(27),o=l(1),i=l.n(o),d=(l(234),l(912)),u=l(904),r=l(905),c=l(245),v=l(916),s=l(906),m=l(907),E=l(908),T=l(943),p=(l(235),l(85)),b=(l(233),l(44)),g=l(73),f=l.n(g),O=l(56),S=l(108),y=[];a.default=function(e){var a,l,g,j,x,N,h,I,C,k,G,q,P,R,F,_,w,z=Object(o.useContext)(O.a),D=Object(o.useState)(-1),A=Object(n.a)(D,2),H=(A[0],A[1]),J=Object(o.useState)({}),M=Object(n.a)(J,2),B=M[0],Q=M[1],U=Object(o.useState)(""),K=Object(n.a)(U,2),L=K[0],V=(K[1],Object(o.useState)([])),W=Object(n.a)(V,2),X=(W[0],W[1],Object(o.useState)([])),Y=Object(n.a)(X,2),Z=(Y[0],Y[1]),$=Object(o.useState)(0),ee=Object(n.a)($,2),ae=ee[0],le=ee[1],te=Object(o.useState)({}),ne=Object(n.a)(te,2),oe=(ne[0],ne[1]),ie=Object(o.useState)({}),de=Object(n.a)(ie,2),ue=(de[0],de[1]),re=Object(o.useState)({}),ce=Object(n.a)(re,2),ve=ce[0],se=ce[1],me=Object(o.useState)(""),Ee=Object(n.a)(me,2),Te=Ee[0],pe=Ee[1],be=(Object(p.i)(),Object(p.h)()),ge=Object(o.useState)([{product:"",productId:"",disCountPercentage:"",productData:"",availableQty:"",qty:1,Size:"",price:"",unitType:"",grandTotal:"",totalprice:""}]),fe=Object(n.a)(ge,2),Oe=fe[0],Se=fe[1],ye=function(e,a){H(a);var l=e.target,n=l.name,o=l.value,i=null===Oe||void 0===Oe?void 0:Oe.orderItems,d=Object(t.a)(i);d[a][n]=o;var u=0;d.length>0&&(u=(null===d||void 0===d?void 0:d.map((function(e){return y[a]=e.Size*e.qty*e.price,d[a].productData=null===e||void 0===e?void 0:e.productId,d[a].totalprice=e.Size*e.qty*e.price,e.Size*e.qty*e.price}))).reduce((function(e,a){return e+a})));var r=Object(S.a)(B,d,z);se(r),Se(d),le(u)};Object(o.useEffect)((function(){var e,a=JSON.parse(localStorage.getItem("userData"));Object(b.l)(null===a||void 0===a?void 0:a._id,null===a||void 0===a?void 0:a.database).then((function(e){var a,l=null===e||void 0===e?void 0:e.Customer,t=null===be||void 0===be||null===(a=be.state)||void 0===a?void 0:a.partyId._id,n=null===l||void 0===l?void 0:l.filter((function(e){return(null===e||void 0===e?void 0:e._id)==t}));Q(n[0]),(null===l||void 0===l?void 0:l.length)&&Z(l)})).catch((function(e){console.log(e)})),Se(null===be||void 0===be?void 0:be.state);var l=null===be||void 0===be?void 0:be.state,t={Amount:null===l||void 0===l?void 0:l.amount,CgstTotal:null===l||void 0===l?void 0:l.cgstTotal,GrandTotal:null===l||void 0===l?void 0:l.grandTotal,IgstTaxType:1==(null===l||void 0===l?void 0:l.igstTaxType),IgstTotal:null===l||void 0===l?void 0:l.igstTotal,RoundOff:null===l||void 0===l?void 0:l.roundOff,SgstTotal:null===l||void 0===l?void 0:l.sgstTotal};se({Tax:t}),pe(null===be||void 0===be?void 0:be.state.fullName),oe(null===be||void 0===be?void 0:be.state),le(null===be||void 0===be||null===(e=be.state)||void 0===e?void 0:e.grandTotal)}),[]),Object(o.useEffect)((function(){Se(null===be||void 0===be?void 0:be.state),oe(null===be||void 0===be?void 0:be.state)}),[Oe]),Object(o.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));ue(e)}),[]);return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(d.a,null,i.a.createElement(u.a,{className:"m-2"},i.a.createElement(r.a,{className:""},i.a.createElement("div",null,i.a.createElement("h1",{className:""},"Edit Order"))),i.a.createElement(r.a,null,i.a.createElement("div",{className:"float-right"},i.a.createElement(p.b,{render:function(e){var a=e.history;return i.a.createElement(c.a,{style:{cursor:"pointer"},className:"float-right mr-1",color:"primary",size:"sm",onClick:function(){return a.goBack()}},"Back")}})))),i.a.createElement(v.a,null,i.a.createElement(s.a,{className:"m-1",onSubmit:function(e){var a;e.preventDefault(),console.log(Oe,null===Oe||void 0===Oe?void 0:Oe.orderItems);var l=null===Oe||void 0===Oe||null===(a=Oe.orderItems)||void 0===a?void 0:a.map((function(e){var a;return{productId:null===e||void 0===e||null===(a=e.productId)||void 0===a?void 0:a._id,qty:Number(null===e||void 0===e?void 0:e.qty)}})),t={fullName:Te,orderItems:l,grandTotal:ae};L?f()("Error occured while Entering Details"):Object(b.Ub)(t,null===Oe||void 0===Oe?void 0:Oe._id).then((function(e){console.log(e),f()("Order Edited Successfully")})).catch((function(e){console.log(e),f()("Order Not Edited")}))}},i.a.createElement(r.a,{className:"mb-1",lg:"4",md:"4",sm:"12"},i.a.createElement(m.a,null,"FullName"),i.a.createElement(E.a,{required:!0,type:"text",name:"FullName",placeholder:"FullName",value:Te,onChange:function(e){return pe(e.target.value)}})),Oe&&(null===Oe||void 0===Oe||null===(a=Oe.orderItems)||void 0===a?void 0:a.map((function(e,a){var l,t;return i.a.createElement(u.a,{className:"",key:a},i.a.createElement(r.a,{className:"mb-1"},i.a.createElement("div",{className:""},i.a.createElement(m.a,null,"Product Name"),i.a.createElement(E.a,{type:"text",placeholder:"ProductName",name:"Product_Title",readOnly:!0,value:null===e||void 0===e||null===(l=e.productId)||void 0===l?void 0:l.Product_Title,onChange:function(e){return ye(e,a)}}))),i.a.createElement(r.a,null,i.a.createElement(T.a,null,i.a.createElement(m.a,null,"Price"),i.a.createElement(E.a,{type:"number",readOnly:!0,placeholder:"Price",name:"Price",value:null===e||void 0===e?void 0:e.price}))),i.a.createElement(r.a,null,i.a.createElement(T.a,null,i.a.createElement(m.a,null,"Qty"),i.a.createElement(E.a,{type:"number",placeholder:"Size",name:"qty",value:null===e||void 0===e?void 0:e.qty,onChange:function(e){return ye(e,a)}}))),i.a.createElement(r.a,null,i.a.createElement(T.a,null,i.a.createElement(m.a,null,"unitType"),i.a.createElement(E.a,{type:"text",placeholder:null===e||void 0===e?void 0:e.unitType,name:"qty",value:null===e||void 0===e?void 0:e.unitType}))),i.a.createElement(r.a,null,i.a.createElement(T.a,null,i.a.createElement(m.a,null,"GST Rate"),i.a.createElement(E.a,{type:"number",placeholder:"GST Rate",name:"GSTRate",value:null===e||void 0===e?void 0:e.productId.GSTRate}))),i.a.createElement(r.a,null,i.a.createElement(T.a,null,i.a.createElement(m.a,null,"HST Code"),i.a.createElement(E.a,{type:"number",placeholder:"HSTCode",name:"HSTCode",value:null===e||void 0===e||null===(t=e.productId)||void 0===t?void 0:t.HSN_Code}))))}))),i.a.createElement(u.a,null,i.a.createElement(r.a,{className:"mb-1",lg:"12",md:"12",sm:"12"},i.a.createElement("div",{className:" d-flex justify-content-end"},i.a.createElement("ul",{className:"subtotal"},i.a.createElement("li",null,i.a.createElement(m.a,{className:"pr-5"},"Total:",i.a.createElement("span",{className:"p-2"},(null===ve||void 0===ve||null===(l=ve.Tax)||void 0===l?void 0:l.Amount)&&(null===ve||void 0===ve||null===(g=ve.Tax)||void 0===g?void 0:g.Amount)?(null===ve||void 0===ve||null===(j=ve.Tax)||void 0===j?void 0:j.Amount).toFixed(2):0))),(null===ve||void 0===ve||null===(x=ve.Tax)||void 0===x?void 0:x.IgstTaxType)&&(null===ve||void 0===ve||null===(N=ve.Tax)||void 0===N?void 0:N.IgstTaxType)?i.a.createElement("li",null,i.a.createElement(m.a,{className:""},"IGST Tax:"," ",i.a.createElement("strong",null,"RS"," ",(null===ve||void 0===ve||null===(h=ve.Tax)||void 0===h?void 0:h.IgstTotal)&&(null===ve||void 0===ve||null===(I=ve.Tax)||void 0===I?void 0:I.IgstTotal)?(null===ve||void 0===ve||null===(C=ve.Tax)||void 0===C?void 0:C.IgstTotal).toFixed(2):0))):i.a.createElement(i.a.Fragment,null,i.a.createElement("li",null,i.a.createElement(m.a,{className:""},"SGST Tax:"," ",i.a.createElement("strong",null,"RS"," ",(null===ve||void 0===ve||null===(k=ve.Tax)||void 0===k?void 0:k.SgstTotal)&&(null===ve||void 0===ve||null===(G=ve.Tax)||void 0===G?void 0:G.SgstTotal)?(null===ve||void 0===ve||null===(q=ve.Tax)||void 0===q?void 0:q.SgstTotal).toFixed(2):0))),i.a.createElement("li",null,i.a.createElement(m.a,{className:""},"CGST Tax:"," ",i.a.createElement("strong",null,"RS"," ",(null===ve||void 0===ve||null===(P=ve.Tax)||void 0===P?void 0:P.CgstTotal)&&(null===ve||void 0===ve||null===(R=ve.Tax)||void 0===R?void 0:R.CgstTotal)?(null===ve||void 0===ve||null===(F=ve.Tax)||void 0===F?void 0:F.CgstTotal).toFixed(2):0)))),i.a.createElement("li",null," ",i.a.createElement(m.a,{className:"pr-5"},"Grand Total :"," ",i.a.createElement("strong",null,"RS"," ",(null===ve||void 0===ve||null===(_=ve.Tax)||void 0===_?void 0:_.GrandTotal)?(null===ve||void 0===ve||null===(w=ve.Tax)||void 0===w?void 0:w.GrandTotal).toFixed(2):0))))))),i.a.createElement(u.a,null,i.a.createElement(r.a,null,i.a.createElement("div",{className:"d-flex justify-content-center"},i.a.createElement(c.a.Ripple,{color:"primary",type:"submit",className:"mt-2"},"Submit")))))))))}},943:function(e,a,l){"use strict";var t=l(10),n=l(12),o=l(1),i=l.n(o),d=l(2),u=l.n(d),r=l(8),c=l.n(r),v=l(7),s=["className","cssModule","row","disabled","check","inline","tag"],m={children:u.a.node,row:u.a.bool,check:u.a.bool,inline:u.a.bool,disabled:u.a.bool,tag:v.tagPropType,className:u.a.string,cssModule:u.a.object},E=function(e){var a=e.className,l=e.cssModule,o=e.row,d=e.disabled,u=e.check,r=e.inline,m=e.tag,E=Object(n.a)(e,s),T=Object(v.mapToCssModules)(c()(a,!!o&&"row",u?"form-check":"form-group",!(!u||!r)&&"form-check-inline",!(!u||!d)&&"disabled"),l);return"fieldset"===m&&(E.disabled=d),i.a.createElement(m,Object(t.a)({},E,{className:T}))};E.propTypes=m,E.defaultProps={tag:"div"},a.a=E}}]);
//# sourceMappingURL=468.d6251cab.chunk.js.map