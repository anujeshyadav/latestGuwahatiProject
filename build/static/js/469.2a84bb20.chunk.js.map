{"version":3,"sources":["views/apps/freshlist/order/EditPlaceOrder.js","../node_modules/reactstrap/es/FormGroup.js"],"names":["GrandTotal","EditPlaceOrder","args","useState","setIndex","error","grandTotalAmt","setGrandTotalAmt","setEditdata","setUserInfo","userName","setUserName","location","useParams","useLocation","product","productId","availableQty","qty","price","grandTotal","setProduct","handleChange","e","console","log","target","value","handleProductChangeProduct","index","name","orderitem","orderItems","list","amt","length","x","map","val","Size","reduce","a","b","useEffect","state","fullName","Product_MRP","userInfo","JSON","parse","localStorage","getItem","className","render","history","style","cursor","color","size","onClick","goBack","onSubmit","preventDefault","editedproduct","ele","_id","Number","payload","swal","PlaceOrder_Edit","then","res","catch","err","lg","md","sm","required","type","placeholder","onChange","key","disabled","Product_Title","HSN_Code","Ripple","_excluded","propTypes","children","PropTypes","node","row","bool","check","inline","tag","tagPropType","string","cssModule","object","FormGroup","props","Tag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","React","createElement","_extends","defaultProps"],"mappings":"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","file":"static/js/469.2a84bb20.chunk.js","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  Col,\r\n  Form,\r\n  Row,\r\n  Input,\r\n  Label,\r\n  Button,\r\n  FormGroup,\r\n} from \"reactstrap\";\r\nimport \"react-phone-input-2/lib/style.css\";\r\n\r\nimport { useParams, useLocation } from \"react-router-dom\";\r\nimport \"../../../../assets/scss/pages/users.scss\";\r\nimport {\r\n  ProductListView,\r\n  Create_Sales_personList,\r\n  PlaceOrder_Edit,\r\n} from \"../../../../ApiEndPoint/ApiCalling\";\r\nimport \"../../../../assets/scss/pages/users.scss\";\r\nimport { Route } from \"react-router-dom\";\r\n\r\nlet GrandTotal = [];\r\n\r\nconst EditPlaceOrder = args => {\r\n  const [Index, setIndex] = useState(-1);\r\n  const [targetStartDate, settargetStartDate] = useState(\"\");\r\n  const [targetEndDate, settargetEndDate] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [Salesperson, setSalesperson] = useState(\"\");\r\n  const [grandTotalAmt, setGrandTotalAmt] = useState(0);\r\n  const [Editdata, setEditdata] = useState({});\r\n  const [UserInfo, setUserInfo] = useState({});\r\n  const [userName, setUserName] = useState(\"\");\r\n  const Params = useParams();\r\n  const location = useLocation();\r\n\r\n  const [product, setProduct] = useState([\r\n    {\r\n      product: \"\", //\r\n      productId: \"\",\r\n      availableQty: \"\",\r\n      qty: 1, //\r\n      price: \"\", //\r\n      grandTotal: \"\",\r\n    },\r\n  ]);\r\n  const handleChange = e => {\r\n    console.log(e.target.value);\r\n    setUserName(e.target.value);\r\n  };\r\n\r\nconsole.log(product);\r\n\r\nconst handleProductChangeProduct = (e, index) => {\r\n  // debugger;\r\n  setIndex(index);\r\n  const { name, value } = e.target;\r\n  let orderitem = product?.orderItems;\r\n\r\n  const list = [...orderitem];\r\n  list[index][name] = value;\r\n  let amt = 0;\r\n  if (list.length > 0) {\r\n    const x = list?.map((val) => {\r\n      GrandTotal[index] = val.Size * val.qty * val.price;\r\n      list[index][\"totalprice\"] = val.Size * val.qty * val.price;\r\n      return val.Size * val.qty * val.price;\r\n    });\r\n    amt = x?.reduce((a, b) => a + b);\r\n  }\r\n  setProduct(list);\r\n  setGrandTotalAmt(amt);\r\n};\r\n\r\nuseEffect(() => {\r\n  setProduct(location?.state);\r\n  console.log(location?.state);\r\n  setUserName(location?.state.fullName);\r\n  setEditdata(location?.state);\r\n\r\n  if (location?.state) {\r\n    let grandTotal = location?.state?.orderItems?.reduce(\r\n      (a, b) => a + b.productId?.Product_MRP,\r\n      0\r\n    );\r\n    setGrandTotalAmt(grandTotal);\r\n  } else {\r\n    let grandTotal = location?.state?.orderItems.reduce(\r\n      (a, b) => a + b.productId?.Product_MRP,\r\n      0\r\n    );\r\n    setGrandTotalAmt(grandTotal);\r\n  }\r\n}, []);\r\n\r\nuseEffect(() => {\r\n  setProduct(location.state);\r\n  setEditdata(location?.state);\r\n}, [product]);\r\n\r\nuseEffect(() => {\r\n  const userInfo = JSON.parse(localStorage.getItem(\"userData\"));\r\n  setUserInfo(userInfo);\r\n}, []);\r\n\r\nconst submitHandler = (e) => {\r\n  e.preventDefault();\r\n  debugger;\r\n  console.log(product, product.orderItems);\r\n  let editedproduct = product?.orderItems?.map((ele) => {\r\n    return {\r\n      productId: ele?.productId?._id,\r\n      qty: Number(ele?.qty),\r\n    };\r\n  });\r\n  let payload = {\r\n    fullName: userName,\r\n    orderItems: editedproduct,\r\n    grandTotal: grandTotalAmt,\r\n  };\r\n  console.log(payload);\r\n  if (error) {\r\n    swal(\"Error occured while Entering Details\");\r\n  } else {\r\n    PlaceOrder_Edit(payload, product._id)\r\n      .then((res) => {\r\n        console.log(res);\r\n        swal(\"PlaceOrder  Edit Successfully\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n};\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Card>\r\n          <Row className=\"m-2\">\r\n            <Col className=\"\">\r\n              <div>\r\n                <h1 className=\"\">Edit PlaceOrder</h1>\r\n              </div>\r\n            </Col>\r\n            <Col>\r\n              <div className=\"float-right\">\r\n                <Route\r\n                  render={({ history }) => (\r\n                    <Button\r\n                      style={{ cursor: \"pointer\" }}\r\n                      className=\"float-right mr-1\"\r\n                      color=\"primary\"\r\n                      size=\"sm\"\r\n                      onClick={() => history.goBack()}>\r\n                      Back\r\n                    </Button>\r\n                  )}\r\n                />\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n\r\n          <CardBody>\r\n            <Form className=\"m-1\" onSubmit={submitHandler}>\r\n              <Col className=\"mb-1\" lg=\"4\" md=\"4\" sm=\"12\">\r\n                <div className=\"\">\r\n                  <Label>FullName</Label>\r\n                  <Input\r\n                    required\r\n                    type=\"text\"\r\n                    name=\"FullName\"\r\n                    placeholder=\"FullName\"\r\n                    value={userName}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n              </Col>\r\n\r\n              {product &&\r\n                product?.orderItems?.map((product, index) => {\r\n                  return (\r\n                    <Row className=\"\" key={index}>\r\n                      <Col className=\"mb-1\">\r\n                        <div className=\"\">\r\n                          <Label>Product Name</Label>\r\n                          <Input\r\n                            type=\"text\"\r\n                            placeholder=\"ProductName\"\r\n                            name=\"Product_Title\"\r\n                            disabled\r\n                            value={product.productId?.Product_Title}\r\n                            onChange={(e) => handleChange(e, index)}\r\n                          />\r\n                        </div>\r\n                      </Col>\r\n                      <Col>\r\n                        <FormGroup>\r\n                          <Label>Price</Label>\r\n                          <Input\r\n                            type=\"number\"\r\n                            disabled\r\n                            placeholder=\"Price\"\r\n                            name=\"Product_MRP\"\r\n                            value={product?.productId?.Product_MRP}\r\n                          />\r\n                        </FormGroup>\r\n                      </Col>\r\n                      <Col>\r\n                        <FormGroup>\r\n                          <Label>Size</Label>\r\n                          <Input\r\n                            type=\"number\"\r\n                            placeholder=\"Size\"\r\n                            name=\"qty\"\r\n                            value={product?.qty}\r\n                            onChange={(e) =>\r\n                              handleProductChangeProduct(e, index)\r\n                            }\r\n                          />\r\n                        </FormGroup>\r\n                      </Col>\r\n                      <Col>\r\n                        <FormGroup>\r\n                          <Label>GST Rate</Label>\r\n                          <Input\r\n                            type=\"number\"\r\n                            placeholder=\"GST Rate\"\r\n                            disabled\r\n                            name=\"GSTRate\"\r\n                            value={product?.productId[\"GSTRate\"]}\r\n                            // onChange={e => handleProductChangeProduct(e, index)}\r\n                          />\r\n                        </FormGroup>\r\n                      </Col>\r\n\r\n                      <Col>\r\n                        <FormGroup>\r\n                          <Label>HST Code</Label>\r\n                          <Input\r\n                            type=\"number\"\r\n                            placeholder=\"HSTCode\"\r\n                            name=\"HSTCode\"\r\n                            disabled\r\n                            value={product?.productId?.HSN_Code}\r\n                            // onChange={e => handleProductChangeProduct(e, index)}\r\n                          />\r\n                        </FormGroup>\r\n                      </Col>\r\n                    </Row>\r\n                  );\r\n                })}\r\n              <Row>\r\n                <Col className=\"mb-1\" lg=\"12\" md=\"12\" sm=\"12\">\r\n                  <div className=\" d-flex justify-content-end\">\r\n                    <Label className=\"pr-5\">\r\n                      Grand Total : <stron>{grandTotalAmt}</stron>\r\n                    </Label>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n              <Row>\r\n                <Col>\r\n                  <div className=\"d-flex justify-content-center\">\r\n                    <Button.Ripple\r\n                      color=\"primary\"\r\n                      type=\"submit\"\r\n                      className=\"mt-2\">\r\n                      Submit\r\n                    </Button.Ripple>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </Form>\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default EditPlaceOrder;\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"row\", \"disabled\", \"check\", \"inline\", \"tag\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  children: PropTypes.node,\n  row: PropTypes.bool,\n  check: PropTypes.bool,\n  inline: PropTypes.bool,\n  disabled: PropTypes.bool,\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar FormGroup = function FormGroup(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      row = props.row,\n      disabled = props.disabled,\n      check = props.check,\n      inline = props.inline,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var classes = mapToCssModules(classNames(className, row ? 'row' : false, check ? 'form-check' : 'form-group', check && inline ? 'form-check-inline' : false, check && disabled ? 'disabled' : false), cssModule);\n\n  if (Tag === 'fieldset') {\n    attributes.disabled = disabled;\n  }\n\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nFormGroup.propTypes = propTypes;\nFormGroup.defaultProps = defaultProps;\nexport default FormGroup;"],"sourceRoot":""}