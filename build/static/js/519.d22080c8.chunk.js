(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[519],{3260:function(e,t,a){"use strict";a.r(t);var l=a(9),n=a(25),c=a(27),r=a(1),o=a.n(r),u=(a(234),a(28),a(912)),s=a(904),m=a(905),i=a(916),d=a(906),v=a(907),E=a(908),b=a(245),f=(a(171),a(235),a(136)),p=a.n(f),g=(a(233),a(44)),y=[],N=[];t.default=function(e){var t=Object(r.useState)({}),a=Object(c.a)(t,2),f=(a[0],a[1],Object(r.useState)("")),O=Object(c.a)(f,2),j=(O[0],O[1]),S=Object(r.useState)(""),h=Object(c.a)(S,2),P=(h[0],h[1],Object(r.useState)("")),_=Object(c.a)(P,2),R=_[0],Q=(_[1],Object(r.useState)([])),q=Object(c.a)(Q,2),C=q[0],I=q[1],x=Object(r.useState)(0),T=Object(c.a)(x,2),k=T[0],w=T[1],D=Object(r.useState)({}),J=Object(c.a)(D,2),M=J[0],z=J[1],G=Object(r.useState)([{productId:"",Qty_Purchased:"",Qty_Return:"",Product_Price:""}]),A=Object(c.a)(G,2),F=A[0],L=A[1],U=function(e,t){j(t);var a=e.target,l=a.name,c=a.value,r=Object(n.a)(F);r[t][l]=c;var o=0;r.length>0&&(o=(null===r||void 0===r?void 0:r.map((function(e){return console.log(e.qty*e.price),r[t].totalprice=e.qty*e.price,e.qty*e.price}))).reduce((function(e,t){return e+t}),0),console.log("GrandTotal",o));console.log(r),L(r),w(o),console.log(y)};Object(r.useEffect)((function(){console.log(F),console.log(y)}),[F,y]),Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));Object(g.Nb)(null===e||void 0===e?void 0:e._id,null===e||void 0===e?void 0:e.database).then((function(e){console.log(e.Product),I(null===e||void 0===e?void 0:e.Product)})).catch((function(e){console.log(e)}))}),[]),Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));console.log(e),z(e)}),[]);var V=function(){L([].concat(Object(n.a)(F),[{productId:"",Qty_Purchased:"",Qty_Return:"",Product_Price:""}]))},B=function(e){var t=Object(n.a)(F);t.splice(e,1),y.splice(e,1);var a=y.reduce((function(e,t){return e+t}),0);w(a),L(t)};return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(u.a,null,o.a.createElement(s.a,{className:"m-2"},o.a.createElement(m.a,{className:""},o.a.createElement("div",null,o.a.createElement("h1",{className:""},"Sales Return")))),o.a.createElement(i.a,null,o.a.createElement(d.a,{className:"m-1",onSubmit:function(e){e.preventDefault(),console.log("Final ",F);var t={userId:null===M||void 0===M?void 0:M._id,fullName:null===M||void 0===M?void 0:M.UserName,address:null===M||void 0===M?void 0:M.Address,grandTotal:k,MobileNo:null===M||void 0===M?void 0:M.mobileNumber,country:null===M||void 0===M?void 0:M.Country,state:null===M||void 0===M?void 0:M.State,city:null===M||void 0===M?void 0:M.City,orderItems:F};R?swal("Error occured while Entering Details"):Object(g.ac)(t).then((function(e){console.log(e),swal("Order Created Successfully")})).catch((function(e){console.log(e)}))}},F&&(null===F||void 0===F?void 0:F.map((function(e,t){return o.a.createElement(s.a,{className:"",key:t},o.a.createElement(m.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},o.a.createElement("div",{className:""},o.a.createElement(v.a,null,"ProductName"),o.a.createElement(p.a,{required:!0,selectionLimit:1,isObject:"false",options:C,onSelect:function(e,a){return function(e,t,a){N.push(t),L((function(e){var c=Object(n.a)(e),r=Object(l.a)({},c[a]);r.price=t.Product_MRP,r.productId=t._id,c[a]=r;var o=null===e||void 0===e?void 0:e.map((function(e,t){var l,n=(null===e||void 0===e?void 0:e.qty)*(null===(l=N[t])||void 0===l?void 0:l.Product_MRP);return y[a]=n,n}));console.log(o);var u=o.reduce((function(e,t){return e+t}),0);return w(u),c}))}(0,a,t)},onRemove:function(e,a){!function(e,t,a){console.log(e),console.log(a)}(e,0,t)},displayValue:"Product_Title"}))),o.a.createElement(m.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},o.a.createElement("div",{className:""},o.a.createElement(v.a,null,"Sales Quantity"),o.a.createElement(E.a,{type:"number",name:"Qty_Purchased",placeholder:"Req_Qty",value:null===e||void 0===e?void 0:e.Qty_Purchased,onChange:function(e){return U(e,t)}}))),o.a.createElement(m.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},o.a.createElement("div",{className:""},o.a.createElement(v.a,null,"Return Quantity"),o.a.createElement(E.a,{type:"number",name:"qty",placeholder:"Req_Qty",value:null===e||void 0===e?void 0:e.qty,onChange:function(e){return U(e,t)}}))),o.a.createElement(m.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},o.a.createElement("div",{className:""},o.a.createElement(v.a,null,"Product Price"),o.a.createElement(E.a,{type:"number",name:"price",readOnly:!0,placeholder:"Price",value:e.price}))),o.a.createElement(m.a,{className:"d-flex mt-1 abb",lg:"3",md:"3",sm:"12"},o.a.createElement("div",{className:"btnStyle"},t?o.a.createElement(b.a,{type:"button",color:"danger",className:"button remove ",size:"sm",onClick:function(){return B(t)}},"-"):null),o.a.createElement("div",{className:"btnStyle"},o.a.createElement(b.a,{className:"ml-1 mb-1",color:"primary",type:"button",size:"sm",onClick:function(){return V()}},"+"))))}))),o.a.createElement(s.a,null,o.a.createElement(m.a,{className:"mb-1",lg:"12",md:"12",sm:"12"},o.a.createElement("div",{className:" d-flex justify-content-end"},o.a.createElement("ul",{className:"subtotal"},o.a.createElement("li",null,o.a.createElement(v.a,{className:""},"SubTotal : ",o.a.createElement("strong",null,k))),o.a.createElement("li",null,o.a.createElement(v.a,{className:""},"Shipping Cost : ",o.a.createElement("strong",null,"RS 50"))),o.a.createElement("li",null,o.a.createElement(v.a,{className:""},"Tax: ",o.a.createElement("strong",null,"RS 25"))),o.a.createElement("li",null,o.a.createElement(v.a,{className:""},"Discount : ",o.a.createElement("strong",null,"RS 5"))),o.a.createElement("li",null," ",o.a.createElement(v.a,{className:"pr-5"},"Grand Total :"," ",o.a.createElement("strong",null,k+50+25+5))))))),o.a.createElement(s.a,null,o.a.createElement(m.a,null,o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement(b.a.Ripple,{color:"primary",type:"submit",className:"mt-2"},"Submit")))))))))}}}]);
//# sourceMappingURL=519.d22080c8.chunk.js.map