(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[594],{3176:function(e,t,a){"use strict";a.r(t);var l=a(25),n=a(27),r=a(1),c=a.n(r),o=a(912),u=a(904),d=a(905),i=a(245),s=a(916),m=a(906),v=a(907),b=a(908),p=(a(235),a(85)),E=(a(233),a(44));t.default=function(e){var t=Object(r.useState)(""),a=Object(n.a)(t,2),f=(a[0],a[1]),y=Object(r.useState)(""),O=Object(n.a)(y,2),g=O[0],N=(O[1],Object(r.useState)([])),h=Object(n.a)(N,2),j=(h[0],h[1]),P=Object(r.useState)(0),S=Object(n.a)(P,2),I=S[0],_=S[1],R=Object(r.useState)({}),Q=Object(n.a)(R,2),J=(Q[0],Q[1]),k=Object(r.useState)({}),x=Object(n.a)(k,2),w=(x[0],x[1]),D=Object(r.useState)([]),q=Object(n.a)(D,2),C=(q[0],q[1]),T=(Object(p.i)(),Object(p.h)()),M=Object(p.g)(),B=Object(r.useState)([{productId:"",Product_Title:"",Qty_Sales:"",Qty_Return:0,Product_Price:""}]),z=Object(n.a)(B,2),A=z[0],F=z[1],G=function(e,t){f(t);var a=e.target,n=a.name,r=a.value,c=Object(l.a)(A);c[t][n]=r,F(c);var o=null===c||void 0===c?void 0:c.map((function(e){return Number((null===e||void 0===e?void 0:e.price)*(null===e||void 0===e?void 0:e.returnQty))})),u=null===o||void 0===o?void 0:o.reduce((function(e,t){return e+t}),0);_(u)};Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("OrderList")).orderItems;if(null===T||void 0===T?void 0:T.state){var t;F(null===T||void 0===T?void 0:T.state.orderItems),console.log("test",null===T||void 0===T?void 0:T.state.orderItems);var a=null===T||void 0===T||null===(t=T.state.orderItems)||void 0===t?void 0:t.reduce((function(e,t){var a;return e+(null===(a=t.productId)||void 0===a?void 0:a.Product_MRP)}),0);_(a),localStorage.setItem("EditoneProduct",null===T||void 0===T?void 0:T.state),J(null===T||void 0===T?void 0:T.state)}else{var l;F(e);var n=null===T||void 0===T||null===(l=T.state.orderItems)||void 0===l?void 0:l.reduce((function(e,t){var a;return e+(null===(a=t.productId)||void 0===a?void 0:a.Product_MRP)}),0);_(n)}}),[]),Object(r.useEffect)((function(){Object(E.F)().then((function(e){C(null===e||void 0===e?void 0:e.SalesPerson)})).catch((function(e){return console.log(e)}));var e=JSON.parse(localStorage.getItem("userData"));Object(E.Nb)(null===e||void 0===e?void 0:e._id,null===e||void 0===e?void 0:e.database).then((function(e){j(null===e||void 0===e?void 0:e.Product)})).catch((function(e){console.log(e)}))}),[]),Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));w(e)}),[]);return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(o.a,null,c.a.createElement(u.a,{className:"m-2"},c.a.createElement(d.a,{className:""},c.a.createElement("div",null,c.a.createElement("h1",{className:""},"Purchase Return"))),c.a.createElement(d.a,null,c.a.createElement("div",{className:"float-right"},c.a.createElement(p.b,{render:function(e){var t=e.history;return c.a.createElement(i.a,{style:{cursor:"pointer"},className:"float-right mr-1",color:"danger",size:"sm",onClick:function(){return t.goBack()}},"Back")}})))),c.a.createElement(s.a,null,c.a.createElement(m.a,{className:"m-1",onSubmit:function(e){var t,a,l;e.preventDefault(),console.log(A);var n=JSON.parse(localStorage.getItem("userData"));console.log(n);var r=null===A||void 0===A?void 0:A.map((function(e,t){var a;return{productId:null===e||void 0===e||null===(a=e.productId)||void 0===a?void 0:a._id,Qty_Sales:null===e||void 0===e?void 0:e.qty,Qty_Return:Number(null===e||void 0===e?void 0:e.returnQty),Product_Price:null===e||void 0===e?void 0:e.price}})),c={partyId:null===T||void 0===T||null===(t=T.state)||void 0===t||null===(a=t.partyId)||void 0===a?void 0:a._id,userId:null===n||void 0===n?void 0:n._id,returnItems:r,mobileNumber:null===n||void 0===n?void 0:n.mobileNumber,email:n.email,Return_amount:I,orderId:null===T||void 0===T||null===(l=T.state)||void 0===l?void 0:l._id,created_by:null===n||void 0===n?void 0:n._id};g?swal("Error occured while Entering Details"):Object(E.Rb)(c).then((function(e){swal(" Purchase Returned Successfully"),M.push("/app/AJgroup/purchase/purchaseCompleted")})).catch((function(e){console.log(e)}))}},A&&(null===A||void 0===A?void 0:A.map((function(e,t){var a,l;return console.log(e),c.a.createElement(u.a,{className:"",key:t},c.a.createElement(d.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},c.a.createElement("div",{className:""},c.a.createElement(v.a,null,"Product Name"),c.a.createElement(b.a,{type:"text",name:"Product_Title",readOnly:!0,placeholder:"Product Name",value:null===e||void 0===e||null===(a=e.productId)||void 0===a?void 0:a.Product_Title}))),c.a.createElement(d.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},c.a.createElement("div",{className:""},c.a.createElement(v.a,null,"Price"),c.a.createElement(b.a,{type:"text",name:"price",readOnly:!0,placeholder:"Price",value:null===e||void 0===e||null===(l=e.productId)||void 0===l?void 0:l.Product_MRP}))),c.a.createElement(d.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},c.a.createElement("div",{className:""},c.a.createElement(v.a,null,"Purchased Quantity"),c.a.createElement(b.a,{type:"number",readOnly:!0,name:"qty",placeholder:"Req_Qty",value:null===e||void 0===e?void 0:e.qty,onChange:function(e){return G(e,t)}}))),c.a.createElement(d.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},c.a.createElement("div",{className:""},c.a.createElement(v.a,null,"Return Quantity"),c.a.createElement(b.a,{type:"number",name:"returnQty",placeholder:"Return Quantity",value:A.returnQty,onChange:function(e){return G(e,t)}}))))}))),c.a.createElement(u.a,null,c.a.createElement(d.a,{className:"mb-1",lg:"12",md:"12",sm:"12"},c.a.createElement("div",{className:" d-flex justify-content-end"},c.a.createElement(v.a,{className:"pr-5"},"Grand Total :"," ",c.a.createElement("stron",null,I&&I))))),c.a.createElement(u.a,null,c.a.createElement(d.a,null,c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement(i.a.Ripple,{color:"primary",type:"submit",className:"mt-2"},"Submit")))))))))}}}]);
//# sourceMappingURL=594.234e0b59.chunk.js.map